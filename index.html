<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6-Month Exercise Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide icons as inline SVG components
        const Check = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        const ChevronDown = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        );

        const ChevronUp = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
        );

        const Calendar = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const Weight = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6"></path>
                <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"></path>
                <path d="m19.07 4.93-4.24 4.24m-5.66 5.66-4.24 4.24"></path>
            </svg>
        );

        const TrendingDown = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
                <polyline points="17 18 23 18 23 12"></polyline>
            </svg>
        );

        const Award = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="8" r="7"></circle>
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
            </svg>
        );

        const BookOpen = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </svg>
        );

        function ExerciseTracker() {
            const [currentWeek, setCurrentWeek] = useState(1);
            const [completedWorkouts, setCompletedWorkouts] = useState({});
            const [weightLog, setWeightLog] = useState({});
            const [weekNotes, setWeekNotes] = useState({});
            const [expandedPhase, setExpandedPhase] = useState(1);
            const [expandedWeek, setExpandedWeek] = useState({});
            const [expandedDay, setExpandedDay] = useState({});
            const [showWeightModal, setShowWeightModal] = useState(false);
            const [tempWeight, setTempWeight] = useState('');
            const [selectedWeek, setSelectedWeek] = useState(1);
            const [loading, setLoading] = useState(true);
            const [dailyWeights, setDailyWeights] = useState({});
            const [todayWeight, setTodayWeight] = useState('');
            const [showDailyWeights, setShowDailyWeights] = useState(false);

            useEffect(() => {
                loadAllData();
            }, []);

            const loadAllData = () => {
                try {
                    const currentWeekData = localStorage.getItem('currentWeek');
                    const workoutsData = localStorage.getItem('completedWorkouts');
                    const weightData = localStorage.getItem('weightLog');
                    const notesData = localStorage.getItem('weekNotes');
                    const dailyWeightsData = localStorage.getItem('dailyWeights');

                    if (currentWeekData) setCurrentWeek(JSON.parse(currentWeekData));
                    if (workoutsData) setCompletedWorkouts(JSON.parse(workoutsData));
                    if (weightData) setWeightLog(JSON.parse(weightData));
                    if (notesData) setWeekNotes(JSON.parse(notesData));
                    if (dailyWeightsData) setDailyWeights(JSON.parse(dailyWeightsData));
                } catch (error) {
                    console.log('Starting fresh - no previous data found');
                } finally {
                    setLoading(false);
                }
            };

            const saveData = (key, value) => {
                try {
                    localStorage.setItem(key, JSON.stringify(value));
                } catch (error) {
                    console.error('Error saving data:', error);
                }
            };

            const toggleWorkout = (week, dayId, workoutId) => {
                const key = `w${week}-d${dayId}-e${workoutId}`;
                const newCompleted = {
                    ...completedWorkouts,
                    [key]: !completedWorkouts[key]
                };
                setCompletedWorkouts(newCompleted);
                saveData('completedWorkouts', newCompleted);
            };

            const toggleWeek = (phaseId, week) => {
                const key = `${phaseId}-${week}`;
                setExpandedWeek(prev => ({
                    ...prev,
                    [key]: !prev[key]
                }));
            };

            const toggleDay = (week, dayId) => {
                const key = `${week}-${dayId}`;
                setExpandedDay(prev => ({
                    ...prev,
                    [key]: !prev[key]
                }));
            };

            const goToWeek = (week) => {
                setCurrentWeek(week);
                saveData('currentWeek', week);
                const phase = week <= 6 ? 1 : week <= 14 ? 2 : 3;
                setExpandedPhase(phase);
                setExpandedWeek({ [`${phase}-${week}`]: true });
            };

            const saveWeight = () => {
                if (tempWeight && selectedWeek) {
                    const newWeightLog = {
                        ...weightLog,
                        [selectedWeek]: parseFloat(tempWeight)
                    };
                    setWeightLog(newWeightLog);
                    saveData('weightLog', newWeightLog);
                    setShowWeightModal(false);
                    setTempWeight('');
                }
            };

            const saveNote = (week, note) => {
                const newNotes = {
                    ...weekNotes,
                    [week]: note
                };
                setWeekNotes(newNotes);
                saveData('weekNotes', newNotes);
            };

            const getTodayDate = () => {
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const day = String(today.getDate()).padStart(2, '0');
                return `${year}-${month}-${day}`; // YYYY-MM-DD format in local timezone
            };

            const saveDailyWeight = () => {
                if (todayWeight) {
                    const today = getTodayDate();
                    const newDailyWeights = {
                        ...dailyWeights,
                        [today]: parseFloat(todayWeight)
                    };
                    setDailyWeights(newDailyWeights);
                    saveData('dailyWeights', newDailyWeights);
                    setTodayWeight('');
                }
            };

            const getRecentDailyWeights = () => {
                const entries = Object.entries(dailyWeights)
                    .sort((a, b) => new Date(b[0]) - new Date(a[0]))
                    .slice(0, 14); // Last 14 days
                return entries;
            };

            const getWeeklyAverage = () => {
                const recent = getRecentDailyWeights().slice(0, 7);
                if (recent.length === 0) return null;
                const sum = recent.reduce((acc, [_, weight]) => acc + weight, 0);
                return (sum / recent.length).toFixed(1);
            };

            const getWeekCompletion = (week) => {
                const weekWorkouts = Object.keys(completedWorkouts).filter(key => 
                    key.startsWith(`w${week}-`)
                );
                const completed = weekWorkouts.filter(key => completedWorkouts[key]).length;
                return weekWorkouts.length > 0 ? Math.round((completed / weekWorkouts.length) * 100) : 0;
            };

            const phases = [
                {
                    id: 1,
                    name: "Phase 1: Foundation",
                    weeks: [1, 2, 3, 4, 5, 6],
                    description: "Building base strength and learning movements",
                    schedule: [
                        {
                            id: 1,
                            day: "Monday - Strength Training A",
                            exercises: [
                                { name: "Goblet Squats", sets: "2 sets Ã— 8 reps", notes: "Hold 20lb dumbbell. Focus on form - sit back like a chair" },
                                { name: "Dumbbell Rows", sets: "2 sets Ã— 10 reps each arm", notes: "20lb dumbbell. Keep back flat" },
                                { name: "Dumbbell Floor Press", sets: "2 sets Ã— 10 reps", notes: "Lying on back with 20lb dumbbells" },
                                { name: "Plank", sets: "2 sets Ã— 15-20 seconds", notes: "On knees if needed. Keep core tight" },
                                { name: "Standing Calf Raises", sets: "2 sets Ã— 15 reps", notes: "Bodyweight or holding light weight" }
                            ]
                        },
                        {
                            id: 2,
                            day: "Tuesday - Cardio",
                            exercises: [
                                { name: "Continue your walks", sets: "10-14k steps", notes: "Keep doing what's working!" },
                                { name: "Optional: Assault Bike", sets: "10 minutes easy pace", notes: "Recovery ride if you feel good" }
                            ]
                        },
                        {
                            id: 3,
                            day: "Wednesday - Strength Training B",
                            exercises: [
                                { name: "Kettlebell Deadlifts", sets: "2 sets Ã— 10 reps", notes: "Start with 20lb dumbbells, progress to 25lb KBs" },
                                { name: "Push-ups", sets: "2 sets Ã— 5-10 reps", notes: "Wall or counter push-ups are perfect to start" },
                                { name: "Dumbbell Shoulder Press", sets: "2 sets Ã— 8 reps", notes: "20lb dumbbells, seated or standing" },
                                { name: "Bicycle Crunches", sets: "2 sets Ã— 10 each side", notes: "Slow and controlled" },
                                { name: "Bird Dogs", sets: "2 sets Ã— 8 each side", notes: "Great for core and balance" }
                            ]
                        },
                        {
                            id: 4,
                            day: "Thursday - Cardio",
                            exercises: [
                                { name: "Walk", sets: "10-14k steps", notes: "Your bread and butter!" },
                                { name: "Optional: Light stretching", sets: "10 minutes", notes: "Focus on hips, hamstrings, shoulders" }
                            ]
                        },
                        {
                            id: 5,
                            day: "Friday - Strength Training A",
                            exercises: [
                                { name: "Goblet Squats", sets: "2 sets Ã— 8 reps", notes: "Try to add 1-2 reps if you can" },
                                { name: "Dumbbell Rows", sets: "2 sets Ã— 10 reps each arm", notes: "" },
                                { name: "Dumbbell Floor Press", sets: "2 sets Ã— 10 reps", notes: "" },
                                { name: "Plank", sets: "2 sets Ã— 15-20 seconds", notes: "" },
                                { name: "Standing Calf Raises", sets: "2 sets Ã— 15 reps", notes: "" }
                            ]
                        },
                        {
                            id: 6,
                            day: "Saturday - Active Recovery",
                            exercises: [
                                { name: "Walk", sets: "Easy 30-40 minutes", notes: "Enjoy it, don't rush" },
                                { name: "Stretching or Yoga", sets: "15-20 minutes", notes: "YouTube has great senior-friendly yoga" }
                            ]
                        },
                        {
                            id: 7,
                            day: "Sunday - Rest",
                            exercises: [
                                { name: "Full rest day", sets: "", notes: "Recovery is when you get stronger!" }
                            ]
                        }
                    ]
                },
                {
                    id: 2,
                    name: "Phase 2: Building Momentum",
                    weeks: [7, 8, 9, 10, 11, 12, 13, 14],
                    description: "Increasing volume and adding bike intervals",
                    schedule: [
                        {
                            id: 1,
                            day: "Monday - Strength Training A",
                            exercises: [
                                { name: "Goblet Squats", sets: "3 sets Ã— 10 reps", notes: "Progress to 25lb kettlebell if ready" },
                                { name: "Dumbbell Rows", sets: "3 sets Ã— 12 reps each arm", notes: "20lb dumbbells" },
                                { name: "Dumbbell Floor Press", sets: "3 sets Ã— 12 reps", notes: "20lb dumbbells" },
                                { name: "Plank", sets: "3 sets Ã— 25-30 seconds", notes: "From toes if possible" },
                                { name: "Kettlebell Swings", sets: "2 sets Ã— 10 reps", notes: "25lb KB - hip hinge movement, not squat" }
                            ]
                        },
                        {
                            id: 2,
                            day: "Tuesday - Assault Bike Intervals",
                            exercises: [
                                { name: "Warm-up", sets: "3 minutes easy", notes: "Get blood flowing" },
                                { name: "Work/Rest Intervals", sets: "6 rounds: 20 sec hard / 40 sec easy", notes: "Hard = challenging but sustainable" },
                                { name: "Cool-down", sets: "2 minutes easy", notes: "Bring heart rate down" }
                            ]
                        },
                        {
                            id: 3,
                            day: "Wednesday - Strength Training B",
                            exercises: [
                                { name: "Kettlebell Deadlifts", sets: "3 sets Ã— 12 reps", notes: "25lb kettlebells" },
                                { name: "Push-ups", sets: "3 sets Ã— 8-12 reps", notes: "Progress toward floor push-ups" },
                                { name: "Dumbbell Shoulder Press", sets: "3 sets Ã— 10 reps", notes: "20lb dumbbells" },
                                { name: "Russian Twists", sets: "3 sets Ã— 12 each side", notes: "Hold 20lb dumbbell" },
                                { name: "Single-leg Deadlift", sets: "2 sets Ã— 8 each leg", notes: "Bodyweight or light dumbbell for balance" }
                            ]
                        },
                        {
                            id: 4,
                            day: "Thursday - Walk + Core",
                            exercises: [
                                { name: "Walk", sets: "10-14k steps", notes: "" },
                                { name: "Plank", sets: "20 seconds", notes: "" },
                                { name: "Bird Dogs", sets: "8 each side", notes: "" },
                                { name: "Dead Bugs", sets: "10 each side", notes: "" }
                            ]
                        },
                        {
                            id: 5,
                            day: "Friday - Strength Training A",
                            exercises: [
                                { name: "Goblet Squats", sets: "3 sets Ã— 10 reps", notes: "Push for good form and full reps" },
                                { name: "Dumbbell Rows", sets: "3 sets Ã— 12 reps each arm", notes: "" },
                                { name: "Dumbbell Floor Press", sets: "3 sets Ã— 12 reps", notes: "" },
                                { name: "Plank", sets: "3 sets Ã— 25-30 seconds", notes: "" },
                                { name: "Kettlebell Swings", sets: "2 sets Ã— 10 reps", notes: "" }
                            ]
                        },
                        {
                            id: 6,
                            day: "Saturday - Assault Bike or Walk",
                            exercises: [
                                { name: "Option A: Assault Bike", sets: "15-20 minutes moderate pace", notes: "" },
                                { name: "Option B: Walk", sets: "45-60 minutes", notes: "Choose based on how you feel" }
                            ]
                        },
                        {
                            id: 7,
                            day: "Sunday - Rest",
                            exercises: [
                                { name: "Rest and recover", sets: "", notes: "Light stretching is fine" }
                            ]
                        }
                    ]
                },
                {
                    id: 3,
                    name: "Phase 3: Peak Performance",
                    weeks: [15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                    description: "Maximizing fat loss and strength gains",
                    schedule: [
                        {
                            id: 1,
                            day: "Monday - Strength Training A",
                            exercises: [
                                { name: "Goblet Squats", sets: "3 sets Ã— 12 reps", notes: "25lb kettlebell" },
                                { name: "Dumbbell Rows", sets: "3 sets Ã— 12 reps each", notes: "20lb or try 25lb KB" },
                                { name: "Dumbbell Floor Press", sets: "3 sets Ã— 12 reps", notes: "20lb dumbbells" },
                                { name: "Kettlebell Swings", sets: "3 sets Ã— 15 reps", notes: "25lb kettlebell - focus on power" },
                                { name: "Plank with Shoulder Taps", sets: "3 sets Ã— 20 seconds", notes: "Tap opposite shoulder" }
                            ]
                        },
                        {
                            id: 2,
                            day: "Tuesday - Assault Bike HIIT",
                            exercises: [
                                { name: "Warm-up", sets: "3 minutes", notes: "" },
                                { name: "Work/Rest Intervals", sets: "8 rounds: 30 sec hard / 30 sec easy", notes: "You're fitter now - push it!" },
                                { name: "Cool-down", sets: "3 minutes easy", notes: "" }
                            ]
                        },
                        {
                            id: 3,
                            day: "Wednesday - Strength Training B",
                            exercises: [
                                { name: "Kettlebell Deadlifts", sets: "3 sets Ã— 15 reps", notes: "25lb kettlebells - you're strong now!" },
                                { name: "Push-ups", sets: "3 sets Ã— 12-15 reps", notes: "From toes if possible" },
                                { name: "Dumbbell Shoulder Press", sets: "3 sets Ã— 12 reps", notes: "20lb dumbbells" },
                                { name: "Turkish Get-ups", sets: "2 sets Ã— 3 each side", notes: "Light weight - slow and controlled" },
                                { name: "Farmer's Carry", sets: "3 sets Ã— 30 seconds", notes: "25lb kettlebells - good posture" }
                            ]
                        },
                        {
                            id: 4,
                            day: "Thursday - Active Recovery",
                            exercises: [
                                { name: "Walk", sets: "10-14k steps", notes: "Lighter day before Friday" },
                                { name: "Stretching", sets: "15 minutes", notes: "Full body flexibility work" }
                            ]
                        },
                        {
                            id: 5,
                            day: "Friday - Full Body Circuit",
                            exercises: [
                                { name: "Complete 3 rounds with minimal rest", sets: "", notes: "" },
                                { name: "â€¢ Goblet Squats", sets: "12 reps", notes: "" },
                                { name: "â€¢ Push-ups", sets: "10 reps", notes: "" },
                                { name: "â€¢ Kettlebell Swings", sets: "15 reps", notes: "" },
                                { name: "â€¢ Plank", sets: "30 seconds", notes: "" },
                                { name: "Rest 2 min between rounds", sets: "", notes: "" }
                            ]
                        },
                        {
                            id: 6,
                            day: "Saturday - Assault Bike Endurance",
                            exercises: [
                                { name: "Assault Bike", sets: "25-30 minutes steady", notes: "Conversation pace" },
                                { name: "OR Long Walk", sets: "60+ minutes", notes: "If you prefer" }
                            ]
                        },
                        {
                            id: 7,
                            day: "Sunday - Rest",
                            exercises: [
                                { name: "Complete rest", sets: "", notes: "You've earned it!" }
                            ]
                        }
                    ]
                }
            ];

            if (loading) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center">
                        <div className="text-gray-600">Loading your progress...</div>
                    </div>
                );
            }

            const startWeight = 178;
            const goalWeight = 170;
            const latestWeight = weightLog[currentWeek] || startWeight;
            const weightLost = startWeight - latestWeight;
            const progressPercent = Math.min(100, ((startWeight - latestWeight) / (startWeight - goalWeight)) * 100);

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4 md:p-6">
                    <div className="max-w-6xl mx-auto">
                        {/* Header Dashboard */}
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <h1 className="text-3xl font-bold text-gray-800 mb-4">Your 6-Month Transformation</h1>
                            
                            <div className="grid md:grid-cols-4 gap-4 mb-4">
                                <div className="bg-blue-50 p-4 rounded-lg">
                                    <div className="flex items-center mb-2">
                                        <Calendar size={20} className="text-blue-600 mr-2" />
                                        <span className="text-sm text-gray-600">Current Week</span>
                                    </div>
                                    <div className="text-2xl font-bold text-blue-600">Week {currentWeek}/24</div>
                                </div>
                                
                                <div className="bg-green-50 p-4 rounded-lg">
                                    <div className="flex items-center mb-2">
                                        <Weight size={20} className="text-green-600 mr-2" />
                                        <span className="text-sm text-gray-600">Current Weight</span>
                                    </div>
                                    <div className="text-2xl font-bold text-green-600">{latestWeight} lbs</div>
                                </div>
                                
                                <div className="bg-purple-50 p-4 rounded-lg">
                                    <div className="flex items-center mb-2">
                                        <TrendingDown size={20} className="text-purple-600 mr-2" />
                                        <span className="text-sm text-gray-600">Weight Lost</span>
                                    </div>
                                    <div className="text-2xl font-bold text-purple-600">{weightLost.toFixed(1)} lbs</div>
                                </div>
                                
                                <div className="bg-yellow-50 p-4 rounded-lg">
                                    <div className="flex items-center mb-2">
                                        <Award size={20} className="text-yellow-600 mr-2" />
                                        <span className="text-sm text-gray-600">To Goal</span>
                                    </div>
                                    <div className="text-2xl font-bold text-yellow-600">{(latestWeight - goalWeight).toFixed(1)} lbs</div>
                                </div>
                            </div>

                            {/* Progress Bar */}
                            <div className="mb-4">
                                <div className="flex justify-between text-sm text-gray-600 mb-1">
                                    <span>Progress to Goal</span>
                                    <span>{progressPercent.toFixed(0)}%</span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-3">
                                    <div 
                                        className="bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all"
                                        style={{ width: `${progressPercent}%` }}
                                    ></div>
                                </div>
                            </div>

                            <div className="flex gap-2">
                                <button
                                    onClick={() => {
                                        setSelectedWeek(currentWeek);
                                        setTempWeight(weightLog[currentWeek] || '');
                                        setShowWeightModal(true);
                                    }}
                                    className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition"
                                >
                                    Log Weight for Week {currentWeek}
                                </button>
                                
                                {currentWeek < 24 && (
                                    <button
                                        onClick={() => goToWeek(currentWeek + 1)}
                                        className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition"
                                    >
                                        Advance to Week {currentWeek + 1}
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* Daily Weight Tracker */}
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <h2 className="text-xl font-bold text-gray-800 mb-4">ðŸ“Š Daily Weight Log</h2>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        Log Today's Weight
                                    </label>
                                    <div className="flex gap-2">
                                        <input
                                            type="number"
                                            step="0.1"
                                            value={todayWeight}
                                            onChange={(e) => setTodayWeight(e.target.value)}
                                            placeholder="Enter weight (lbs)"
                                            className="flex-1 border border-gray-300 rounded px-3 py-2"
                                            onKeyPress={(e) => {
                                                if (e.key === 'Enter') {
                                                    saveDailyWeight();
                                                }
                                            }}
                                        />
                                        <button
                                            onClick={saveDailyWeight}
                                            className="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition font-semibold"
                                        >
                                            Save
                                        </button>
                                    </div>
                                    {getWeeklyAverage() && (
                                        <p className="text-sm text-gray-600 mt-2">
                                            7-day average: <span className="font-semibold text-blue-600">{getWeeklyAverage()} lbs</span>
                                        </p>
                                    )}
                                </div>
                                
                                <div>
                                    <div className="flex justify-between items-center mb-2">
                                        <label className="text-sm font-semibold text-gray-700">
                                            Recent Weigh-ins
                                        </label>
                                        <button
                                            onClick={() => setShowDailyWeights(!showDailyWeights)}
                                            className="text-sm text-blue-600 hover:text-blue-700"
                                        >
                                            {showDailyWeights ? 'Hide' : 'Show All'}
                                        </button>
                                    </div>
                                    {getRecentDailyWeights().length > 0 ? (
                                        <div className="bg-gray-50 rounded p-3 max-h-40 overflow-y-auto">
                                            {getRecentDailyWeights().slice(0, showDailyWeights ? 14 : 5).map(([date, weight]) => {
                                                const dateObj = new Date(date);
                                                const today = getTodayDate();
                                                const isToday = date === today;
                                                return (
                                                    <div key={date} className={`flex justify-between text-sm py-1 ${isToday ? 'font-bold text-green-700' : 'text-gray-700'}`}>
                                                        <span>{dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' })}</span>
                                                        <span>{weight} lbs {isToday && '(today)'}</span>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    ) : (
                                        <p className="text-sm text-gray-500 italic">No daily weights logged yet</p>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Weight Modal */}
                        {showWeightModal && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                                <div className="bg-white rounded-lg p-6 max-w-md w-full">
                                    <h3 className="text-xl font-bold mb-4">Log Weight - Week {selectedWeek}</h3>
                                    <input
                                        type="number"
                                        step="0.1"
                                        value={tempWeight}
                                        onChange={(e) => setTempWeight(e.target.value)}
                                        placeholder="Enter weight in lbs"
                                        className="w-full border border-gray-300 rounded px-3 py-2 mb-4"
                                        autoFocus
                                    />
                                    <div className="flex gap-2">
                                        <button
                                            onClick={saveWeight}
                                            className="flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                                        >
                                            Save
                                        </button>
                                        <button
                                            onClick={() => setShowWeightModal(false)}
                                            className="flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400"
                                        >
                                            Cancel
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Phases */}
                        {phases.map((phase) => (
                            <div key={phase.id} className="bg-white rounded-lg shadow-lg mb-4 overflow-hidden">
                                <div 
                                    className="bg-gradient-to-r from-green-500 to-blue-500 text-white p-4 md:p-6 cursor-pointer flex justify-between items-center"
                                    onClick={() => setExpandedPhase(expandedPhase === phase.id ? null : phase.id)}
                                >
                                    <div>
                                        <h2 className="text-xl md:text-2xl font-bold">{phase.name}</h2>
                                        <p className="text-green-100 text-sm md:text-base">Weeks {phase.weeks[0]}-{phase.weeks[phase.weeks.length - 1]} â€¢ {phase.description}</p>
                                    </div>
                                    {expandedPhase === phase.id ? <ChevronUp size={24} /> : <ChevronDown size={24} />}
                                </div>

                                {expandedPhase === phase.id && (
                                    <div className="p-4 md:p-6">
                                        {phase.weeks.map((week) => {
                                            const completion = getWeekCompletion(week);
                                            const isCurrentWeek = week === currentWeek;
                                            
                                            return (
                                                <div key={week} className={`mb-4 border-2 rounded-lg overflow-hidden ${isCurrentWeek ? 'border-blue-500' : 'border-gray-200'}`}>
                                                    <div 
                                                        className={`p-4 cursor-pointer flex justify-between items-center ${isCurrentWeek ? 'bg-blue-50' : 'bg-gray-50'} hover:bg-gray-100`}
                                                        onClick={() => toggleWeek(phase.id, week)}
                                                    >
                                                        <div className="flex-1">
                                                            <div className="flex items-center gap-2">
                                                                <h3 className="font-semibold text-gray-800">Week {week}</h3>
                                                                {isCurrentWeek && (
                                                                    <span className="bg-blue-500 text-white text-xs px-2 py-1 rounded">Current</span>
                                                                )}
                                                                {weightLog[week] && (
                                                                    <span className="text-sm text-gray-600">â€¢ {weightLog[week]} lbs</span>
                                                                )}
                                                            </div>
                                                            <div className="flex items-center gap-2 mt-2">
                                                                <div className="flex-1 bg-gray-200 rounded-full h-2">
                                                                    <div 
                                                                        className="bg-green-500 h-2 rounded-full transition-all"
                                                                        style={{ width: `${completion}%` }}
                                                                    ></div>
                                                                </div>
                                                                <span className="text-sm text-gray-600 w-12">{completion}%</span>
                                                            </div>
                                                        </div>
                                                        {expandedWeek[`${phase.id}-${week}`] ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                                                    </div>

                                                    {expandedWeek[`${phase.id}-${week}`] && (
                                                        <div className="p-4 bg-white">
                                                            {/* Week Notes */}
                                                            <div className="mb-4 p-3 bg-yellow-50 rounded border border-yellow-200">
                                                                <div className="flex items-center mb-2">
                                                                    <BookOpen size={16} className="text-yellow-600 mr-2" />
                                                                    <span className="font-semibold text-gray-700">Week {week} Notes</span>
                                                                </div>
                                                                <textarea
                                                                    value={weekNotes[week] || ''}
                                                                    onChange={(e) => saveNote(week, e.target.value)}
                                                                    placeholder="How did this week go? Any PRs? How do you feel?"
                                                                    className="w-full border border-yellow-300 rounded p-2 text-sm"
                                                                    rows="2"
                                                                />
                                                            </div>

                                                            {/* Daily Workouts */}
                                                            {phase.schedule.map((day) => (
                                                                <div key={day.id} className="mb-3 border border-gray-200 rounded-lg overflow-hidden">
                                                                    <div 
                                                                        className="bg-gray-50 p-3 cursor-pointer flex justify-between items-center hover:bg-gray-100"
                                                                        onClick={() => toggleDay(week, day.id)}
                                                                    >
                                                                        <h4 className="font-semibold text-gray-800 text-sm md:text-base">{day.day}</h4>
                                                                        {expandedDay[`${week}-${day.id}`] ? <ChevronUp size={18} /> : <ChevronDown size={18} />}
                                                                    </div>
                                                                    
                                                                    {expandedDay[`${week}-${day.id}`] && (
                                                                        <div className="p-3 bg-white">
                                                                            {day.exercises.map((exercise, idx) => {
                                                                                const workoutKey = `w${week}-d${day.id}-e${idx}`;
                                                                                const isCompleted = completedWorkouts[workoutKey];
                                                                                
                                                                                return (
                                                                                    <div 
                                                                                        key={idx}
                                                                                        className={`flex items-start mb-2 p-2 rounded cursor-pointer transition-colors ${
                                                                                            isCompleted ? 'bg-green-50' : 'bg-gray-50 hover:bg-gray-100'
                                                                                        }`}
                                                                                        onClick={() => toggleWorkout(week, day.id, idx)}
                                                                                    >
                                                                                        <div className={`w-5 h-5 rounded border-2 flex items-center justify-center mr-2 mt-1 flex-shrink-0 ${
                                                                                            isCompleted ? 'bg-green-500 border-green-500' : 'border-gray-300'
                                                                                        }`}>
                                                                                            {isCompleted && <Check size={14} className="text-white" />}
                                                                                        </div>
                                                                                        <div className="flex-1 min-w-0">
                                                                                            <div className="font-medium text-gray-800 text-sm">{exercise.name}</div>
                                                                                            {exercise.sets && (
                                                                                                <div className="text-xs text-blue-600 font-semibold">{exercise.sets}</div>
                                                                                            )}
                                                                                            {exercise.notes && (
                                                                                                <div className="text-xs text-gray-600 mt-1">{exercise.notes}</div>
                                                                                            )}
                                                                                        </div>
                                                                                    </div>
                                                                                );
                                                                            })}
                                                                        </div>
                                                                    )}
                                                                </div>
                                                            ))}
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })}
                                    </div>
                                )}
                            </div>
                        ))}

                        {/* Tips */}
                        <div className="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg">
                            <h3 className="font-semibold text-blue-900 mb-2">ðŸ’¡ Success Tips</h3>
                            <ul className="text-sm text-blue-800 space-y-1">
                                <li>âœ“ <strong>Weigh yourself every morning</strong> - same time, after bathroom, before eating/drinking</li>
                                <li>âœ“ Don't stress about daily fluctuations (water, food, etc.) - watch the weekly trend</li>
                                <li>âœ“ Use the notes section to track how you feel, PRs, or challenges</li>
                                <li>âœ“ Don't stress if you miss a workout - just get back on track</li>
                                <li>âœ“ Take progress photos every 4 weeks</li>
                                <li>âœ“ Your data saves automatically in your browser's local storage</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ExerciseTracker />);
    </script>
</body>
</html>